# AnyDoorPlugin 任意门插件

执行 Spring 项目任意对象的任意方法

## 适合场景
对于没有http接口的方法，又想快速进行测试，这个时候即可用到。

常见场景：
- XxlJob 的入口
- RPC 的入口
- MQ 入口
- 一个里层方法修改后，想快速验证一下是否正确

## 功能展示
![img](dosc/image/功能展示.gif)

## 支持功能
- **核心** 调度任意方法
- 执行参数将会缓存
- 可在任意地方重复上一次的调用
- 配置页面可打印Idea插件的路径

## 快速开始
### 1 安装插件
插件市场直接搜索 anydoor 

![img.png](dosc/image/安装插件.png)

### 2 启动项目
- 主动填充运行的进程id（可在配置页面修改）

### 3 执行调用
1. 找到想要执行的方法，右键弹出选择打开任意门（有对应的快捷键）

![img.png](dosc/image/打开任意门.png)

2. 填写要调用的参数，并点击 ok 按钮

![img.png](dosc/image/启动.png)

3. **你将会发现当前方法被执行了！（可进行断点查看）**

## 插件属性说明

![img.png](dosc/image/配置页.png)

## 插件原理
Java attach：通过jvm提供的功能，直接通过进程号进行跨进程调度

实现代码详情见 [任意门AnyDoor](https://github.com/lgp547/any-door)



## 发布版本
### 1.0.0
- [x] 对于没有参数的直接进行调用
- [x] 参数缓存
- [x] 调度任意门接口报错增加错误提示

### 1.0.2
- [x] 非固定窗口（非模态对话框）
- [x] 增加快捷键直接调用当前方法（无须在具体方法名上）
- [x] 调整方法选中的先后顺序
- [x] jar包版本升级为0.0.3

### 1.0.4
- [x] 插件调整到 其他setting
- [x] 填充模块名变成可选文本框
- [x] 参数窗口，默认弹出获取输入焦点

### 1.0.5 & 1.0.6
- [x] spring boot项目才做主动填充。2021.4 版本要求 https://youtrack.jetbrains.com/issue/IDEA-272959
- [x] 支持参数json格式
- [x] 支持增加webPathPrefix
  
### 1.0.7 & 1.0.8
- [x] 支持通过Java attach调度的运行项目，不再强依赖MVC端口
- [x] 配置页面进行调整，区分不同的调度方式，以及更合理的排版

### 1.0.9
需要 anyDoor jar 版本 >= 0.0.10
- [x] 参数窗口支持滚动条
- [x] attach当参数过长通过文件进行传递参数内容
- [x] 修复Map字段的处理
- [x] 修复接口类调用参数为空

### 1.1.0
需要 anyDoor jar 版本 >= 1.0.1
- [x] **重要调整：**把任意门jar包添加到当前项目，无需再远程下载jar包
- [x] 生成json参数支持多层嵌套
- [x] 调整配置页面
- [x] 移除mvc调用方式
- [x] 增加打印idea插件所在路径

## 后续支持
详情见issues

